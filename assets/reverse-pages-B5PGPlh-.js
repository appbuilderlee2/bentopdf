import{c as P,i as B}from"./style-BMqLG_Qf.js";import"./lucide-init-Css57rKe.js";import"./simple-mode-footer-WbVs9YeG.js";import"./version-Cc_uNslJ.js";import{a as u,b as y,d as v,h as L,f as b}from"./main-DSprMeGA.js";import{P as m}from"./PDFButton-BowUC9ah.js";import{J as I}from"./jszip.min-DhcferR8.js";import"./mobileMenu-BoMunYmR.js";import"./index-YkV0U4e7.js";import"./_commonjs-dynamic-modules-TDtrdbi3.js";const a={files:[]};function x(){a.files=[];const t=document.getElementById("file-display-area");t&&(t.innerHTML="");const e=document.getElementById("tool-options");e&&e.classList.add("hidden");const o=document.getElementById("file-input");o&&(o.value="")}function w(){const t=document.getElementById("file-display-area"),e=document.getElementById("tool-options");t&&(t.innerHTML="",a.files.length>0?(a.files.forEach(function(o,s){const n=document.createElement("div");n.className="flex items-center justify-between bg-gray-700 p-3 rounded-lg text-sm";const i=document.createElement("div");i.className="flex flex-col overflow-hidden";const r=document.createElement("div");r.className="truncate font-medium text-gray-200 text-sm mb-1",r.textContent=o.name;const l=document.createElement("div");l.className="text-xs text-gray-400",l.textContent=b(o.size),i.append(r,l);const c=document.createElement("button");c.className="ml-4 text-red-400 hover:text-red-300 flex-shrink-0",c.innerHTML='<i data-lucide="trash-2" class="w-4 h-4"></i>',c.onclick=function(){a.files=a.files.filter(function(f,d){return d!==s}),w()},n.append(i,c),t.appendChild(n)}),P({icons:B}),e&&e.classList.remove("hidden")):e&&e.classList.add("hidden"))}async function D(){if(a.files.length===0){u("No Files","Please select one or more PDF files.");return}y("Reversing page order...");try{const t=new I;for(let e=0;e<a.files.length;e++){const o=a.files[e];y(`Processing ${o.name} (${e+1}/${a.files.length})...`);const s=await o.arrayBuffer(),n=await m.load(s,{ignoreEncryption:!0,throwOnInvalidObject:!1}),i=await m.create(),r=n.getPageCount(),l=Array.from({length:r},function(g,E){return r-1-E});(await i.copyPages(n,l)).forEach(function(g){i.addPage(g)});const f=await i.save(),p=`${o.name.replace(/\.pdf$/i,"")}_reversed.pdf`;t.file(p,f)}if(a.files.length===1){const e=a.files[0],o=await e.arrayBuffer(),s=await m.load(o,{ignoreEncryption:!0,throwOnInvalidObject:!1}),n=await m.create(),i=s.getPageCount(),r=Array.from({length:i},function(d,p){return i-1-p});(await n.copyPages(s,r)).forEach(function(d){n.addPage(d)});const c=await n.save(),f=e.name.replace(/\.pdf$/i,"");v(new Blob([new Uint8Array(c)],{type:"application/pdf"}),`${f}_reversed.pdf`)}else{const e=await t.generateAsync({type:"blob"});v(e,"reversed_pdfs.zip")}u("Success","Pages have been reversed successfully!","success",function(){x()})}catch(t){console.error(t),u("Error","Could not reverse the PDF pages. Please check that your files are valid PDFs.")}finally{L()}}function h(t){if(t&&t.length>0){const e=Array.from(t).filter(function(o){return o.type==="application/pdf"||o.name.toLowerCase().endsWith(".pdf")});e.length>0&&(a.files=[...a.files,...e],w())}}document.addEventListener("DOMContentLoaded",function(){const t=document.getElementById("file-input"),e=document.getElementById("drop-zone"),o=document.getElementById("process-btn"),s=document.getElementById("back-to-tools");s&&s.addEventListener("click",function(){window.location.href="/"}),t&&e&&(t.addEventListener("change",function(n){h(n.target.files)}),e.addEventListener("dragover",function(n){n.preventDefault(),e.classList.add("bg-gray-700")}),e.addEventListener("dragleave",function(n){n.preventDefault(),e.classList.remove("bg-gray-700")}),e.addEventListener("drop",function(n){n.preventDefault(),e.classList.remove("bg-gray-700"),h(n.dataTransfer?.files||null)}),t.addEventListener("click",function(){t.value=""})),o&&o.addEventListener("click",D)});
