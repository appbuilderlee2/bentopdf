import{P,S as v,r as A,d as z}from"./PDFButton-B7ekbw-1.js";async function k(r){const t=await P.create();for(const e of r){const n=await P.load(e);(await t.copyPages(n,n.getPageIndices())).forEach(a=>t.addPage(a))}return new Uint8Array(await t.save())}async function T(r,t){const e=await P.load(r),n=await P.create();return(await n.copyPages(e,t)).forEach(a=>n.addPage(a)),new Uint8Array(await n.save())}async function B(r,t){const e=await P.load(r),n=await P.create(),o=e.getPageCount();for(let a=0;a<o;a++){const g=e.getPage(a),f=g.getRotation().angle+t;if(f%90===0){const[c]=await n.copyPages(e,[a]);c.setRotation(z(f)),n.addPage(c)}else{const c=await n.embedPage(g),{width:w,height:i}=c.scale(1),d=f*Math.PI/180,h=Math.abs(Math.cos(d)),l=Math.abs(Math.sin(d)),u=w*h+i*l,m=w*l+i*h,p=n.addPage([u,m]),b=u/2-(w/2*Math.cos(d)-i/2*Math.sin(d)),S=m/2-(w/2*Math.sin(d)+i/2*Math.cos(d));p.drawPage(c,{x:b,y:S,width:w,height:i,rotate:z(f)})}}return new Uint8Array(await n.save())}async function H(r,t){const e=await P.load(r),n=await P.create(),o=e.getPageCount();for(let a=0;a<o;a++){const g=t[a]||0,s=e.getPage(a),c=s.getRotation().angle+g;if(c%90===0){const[w]=await n.copyPages(e,[a]);w.setRotation(z(c)),n.addPage(w)}else{const w=await n.embedPage(s),{width:i,height:d}=w.scale(1),h=c*Math.PI/180,l=Math.abs(Math.cos(h)),u=Math.abs(Math.sin(h)),m=i*l+d*u,p=i*u+d*l,b=n.addPage([m,p]),S=m/2-(i/2*Math.cos(h)-d/2*Math.sin(h)),R=p/2-(i/2*Math.sin(h)+d/2*Math.cos(h));b.drawPage(w,{x:S,y:R,width:i,height:d,rotate:z(c)})}}return new Uint8Array(await n.save())}async function W(r,t){const e=await P.load(r),n=e.getPageCount(),o=[];for(let s=0;s<n;s++)t.has(s+1)||o.push(s);if(o.length===0)throw new Error("Cannot delete all pages");const a=await P.create();return(await a.copyPages(e,o)).forEach(s=>a.addPage(s)),new Uint8Array(await a.save())}function F(r,t){const e=new Set,n=r.split(",").map(o=>o.trim());for(const o of n)if(o.includes("-")){const[a,g]=o.split("-"),s=Math.max(1,parseInt(a,10)||1),f=Math.min(t,parseInt(g,10)||t);for(let c=s;c<=f;c++)e.add(c-1)}else{const a=parseInt(o,10);a>=1&&a<=t&&e.add(a-1)}return Array.from(e).sort((o,a)=>o-a)}function E(r,t){const e=new Set,n=r.split(",").map(o=>o.trim());for(const o of n)if(o.includes("-")){const[a,g]=o.split("-"),s=Math.max(1,parseInt(a,10)||1),f=Math.min(t,parseInt(g,10)||t);for(let c=s;c<=f;c++)e.add(c)}else{const a=parseInt(o,10);a>=1&&a<=t&&e.add(a)}return e}async function O(r,t){const e=await P.load(r),n=await e.embedFont(v.Helvetica),o=e.getPages();for(const a of o){const{width:g,height:s}=a.getSize(),f=n.widthOfTextAtSize(t.text,t.fontSize);a.drawText(t.text,{x:(g-f)/2,y:s/2,font:n,size:t.fontSize,color:A(t.color.r,t.color.g,t.color.b),opacity:t.opacity,rotate:z(t.angle)})}return new Uint8Array(await e.save())}async function _(r,t){const e=await P.load(r),n=t.imageType==="png"?await e.embedPng(t.imageBytes):await e.embedJpg(t.imageBytes),o=e.getPages();for(const a of o){const{width:g,height:s}=a.getSize(),f=n.width*t.scale,c=n.height*t.scale;a.drawImage(n,{x:(g-f)/2,y:(s-c)/2,width:f,height:c,opacity:t.opacity,rotate:z(t.angle)})}return new Uint8Array(await e.save())}async function $(r,t){const e=await P.load(r),n=await e.embedFont(v.Helvetica),o=e.getPages(),a=o.length;for(let g=0;g<a;g++){const s=o[g],f=s.getMediaBox(),w=s.getCropBox()||f,i=w.width,d=w.height,h=w.x||0,l=w.y||0,u=t.format==="page_x_of_y"?`${g+1} / ${a}`:`${g+1}`,m=n.widthOfTextAtSize(u,t.fontSize),p=t.fontSize,b=8,S=40,R=.04,I=Math.max(b,Math.min(S,i*R)),C=Math.max(b,Math.min(S,d*R)),M=Math.max(I,m/2+3),D=Math.max(C,p+3);let x=0,y=0;switch(t.position){case"bottom-center":x=Math.max(M,Math.min(i-M-m,(i-m)/2))+h,y=D+l;break;case"bottom-left":x=M+h,y=D+l;break;case"bottom-right":x=Math.max(M,i-M-m)+h,y=D+l;break;case"top-center":x=Math.max(M,Math.min(i-M-m,(i-m)/2))+h,y=d-D-p+l;break;case"top-left":x=M+h,y=d-D-p+l;break;case"top-right":x=Math.max(M,i-M-m)+h,y=d-D-p+l;break}x=Math.max(h+3,Math.min(h+i-m-3,x)),y=Math.max(l+3,Math.min(l+d-p-3,y)),s.drawText(u,{x,y,font:n,size:t.fontSize,color:A(t.color.r,t.color.g,t.color.b)})}return new Uint8Array(await e.save())}export{$ as a,O as b,_ as c,W as d,B as e,E as f,k as m,F as p,H as r,T as s};
